module helloWorld;


function print<M implements Display>(message: M) {
    todo()
}

/// A function that prints "Hello, world" to the terminal.
function helloWorld {
    print("Hello, world!")
}

/// A function that adds two numbers.
function add(x: Int32, y: Int32) -> Int32 {
    return x + y
}

/// Greets a person.
function greet(name: String) {   
    print(String.fmt("Good day, %!").add(name))
}

/// A function that calculates the factorial of a given number.
function factorial(n: Int32) -> Int32 {
    if n == 1 or n == 0 { 1 }
    else n * factorial(n - 1)
}

/// A function that returns true if a string is a palindrome.
function isPalindrome(str: String) -> Bool {
    return str == str.reverse()
}

/// A function that returns the maximum number in an array of numbers.
/// It returns nothing if the list is empty.
function maximum(numbers: []Int32) -> ?Int32 {
    // Start with the first number in the list.
    var max = numbers.at(0)?
    // Check through the list to see is there is a greater number.
    for number in numbers {
        if number > max {
            // If a bigger number is found, update the max value.
            max = number
        }
    }
    return some(max)
}

/// Returns the nth Fibonacci number.
function fibonacci(n: Int32) -> Int32 {
    if n == 0 { 0 } 
    else if n == 1 { 1 } 
    else fibonacci(n - 1) + fibonacci(n - 2)
}
