
module web;

use tangent.{
    actions, button, constraint, horizontalView, renderStatic, stateful, 
    StateStore, style.{style, Layout}, text, verticalView, View
};

function appButtonRow -> View {
    horizontalView()
        .constraint(
            constraint("mobile").layout(Layout.Vertical).gap(20)
        )
        .append(
            button(some(text("Add")))
                .style(style().bgColor("blue").color("white"))
                .onClick(actions.increment("@counter.value"))
        )
        .append(
            button(some(text("Subtract")))
                .style(style().bgColor("blue").color("white"))
                .onClick(actions.decrement("@counter.value"))
        )
}

function appStage -> View {
    verticalView()
        .style(style().fillScreen())
        .onMount(actions.setTitle("Home | Tangent"))
        .append(stateful("@counter.value").asText().bold())
        .append(appButtonRow())
}

public function main {
    store := StateStore().set("@counter.value", 0);
    assets := renderStatic(appStage, store);
}