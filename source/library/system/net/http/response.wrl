module response
use request.HttpRequest

use core.prelude.{string, i32, todo}
use core.data.json.JsonValue

/// The headers on a 
public model ResponseHeaders {
    public function set(key: string, value: string) {
        todo()
    }
    public function get(key: string) -> ?string {
        todo()
    }
}

public model HttpResponse {
    var _status: i32
    var headers: ResponseHeaders
    var data: string
    /// Build a response object from a request.
    public static function from(request: HttpRequest) -> This {
        return todo()
    }
    /// Returns the content type set in the response header.
    public function contentType -> ?string {
        this.headers.get("Content-Type")
    }
    /// Sets the status code value of the response.
    public function status(code: i32) -> This {
        this._status = code
        return this
    }
    /// Sets the response type to HTML Text.
    public function html(string: string) -> This {
        this.headers.set("Content-Type", "text/html")
        this.data = string
        return this
    }
    public function json<J implements JsonValue>(json: J) -> This {
        this.headers.set("Content-Type", "application/json")
        return this
    }
}