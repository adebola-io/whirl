module Default;

/// This is a language level trait to be implemented by types that have default values when they are not initialized.
/// ## Usage
/// Suppose there is a `Position` model that, if not set, should start at the origin (0, 0). A non implemented approach would be: 
/// ```
/// model Position {
///    public var x: Number;
///    public var y: Number;
///    new(x: Number, y: Number) {
///       this.x = x; 
///       this.y = y; 
///    }
///    public static function Origin(): This {
///        new Position(0, 0)
///    }
/// }
/// var p1 = Position.Origin();
/// ```
/// Using the Default trait, it would instead be:
/// ```
/// model Position implements Default {
///    public var x: Number;
///    public var y: Number;
///    new(x: Number, y: Number) {
///       this.x = x; 
///       this.y = y; 
///    }
///    public static function [Default.Init](): This {
///       new Position(0, 0)
///    }
/// }
/// var p1: Position; /// Is automatically assigned (0, 0)
/// ```
/// Static analysis is used to determine when to assign a default value, meaning that variables that are initialised later will not be defaulted. 
/// ```
/// var p1: Position; 
/// Core.Io.Println(p1); /// p1 is used before assignment, so it will be defaulted. 
/// 
/// var p2: Position;
/// p2 = new Position(2, 3); /// p2 is assigned before usage, so no need for a default. 
/// Core.Io.Println(p2);
/// ```
public trait Default {
    /// Returns the default instance of the implementing model.
    public static function Init(): This;
}