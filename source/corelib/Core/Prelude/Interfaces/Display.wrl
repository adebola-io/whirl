module Display;

use Super.String;
use Super.Core.Internals.{Invoke, Injunction};

/// The `Display` interface defines a contract for the conversion of models into string representations.
/// This allows objects of different types to be seamlessly integrated into textual contexts,
/// particularly for user-facing interfaces.
/// 
/// Models that implements Display can be printed using the `Core.Io.Print` method.
/// ## Usage
/// ```
/// use Core.Io.Fmt;
/// // Implementing Display on a model.
/// model Rectangle implements Display {
///     var length: UInt32;
///     var width: UInt32;
///     
///     new(length: UInt32, width: UInt32) {
///         this.length = length;
///         this.width = width;
///     }
/// 
///     public function [Display.ToStr](): String {
///         template := Fmt("Rectangle { length: %, breadth: % }");
///         template.Add(this.length).Add(this.breadth).Finish()
///     }
/// }
/// 
/// Print(new Rectangle(4, 6)) // Will print out "Rectangle { length: 4, breadth: 6 }"".
/// ```
/// Because the implementation is tedious to write again and again,
/// especially for large models, it can be derived automatically.
/// If all properties of a model implement Display, then the model itself 
/// implements Display. All it needs is the `+ Display` interface appended.
public interface Display {
    /// Converts the implementing type to a string.
    public function ToStr(): String {
        return Invoke(Injunction.Display(this));
    }
}
